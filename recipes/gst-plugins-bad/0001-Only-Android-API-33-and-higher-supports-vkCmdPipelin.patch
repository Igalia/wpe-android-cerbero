From 90a5caf1483db4275c999b74dc99777d76de3282 Mon Sep 17 00:00:00 2001
From: Jani Hautakangas <jani@igalia.com>
Date: Sat, 31 Aug 2024 18:44:33 +0300
Subject: Only Android API 33 and higher supports vkCmdPipelineBarrier2

---
 subprojects/gst-plugins-bad/gst-libs/gst/vulkan/meson.build | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/subprojects/gst-plugins-bad/gst-libs/gst/vulkan/meson.build b/subprojects/gst-plugins-bad/gst-libs/gst/vulkan/meson.build
index 454cd4f654..5698a260ba 100644
--- a/subprojects/gst-plugins-bad/gst-libs/gst/vulkan/meson.build
+++ b/subprojects/gst-plugins-bad/gst-libs/gst/vulkan/meson.build
@@ -322,7 +322,7 @@ if get_option('vulkan-video').allowed()
   video_test = '''
 #include <vulkan/vulkan.h>
 
-#if !(defined(VK_VERSION_1_4) || (defined(VK_VERSION_1_3) && VK_HEADER_VERSION >= 275))
+#if !(defined(VK_VERSION_1_4) || (defined(VK_VERSION_1_3) && VK_HEADER_VERSION >= 275 && __ANDROID_API__ >= 33))
 #error "Need at least Vulkan 1.3.275"
 #endif
 
-- 
2.49.0

